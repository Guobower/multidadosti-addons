<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Sale config wizard -->
    <record id="view_crm_config_settings" model="ir.ui.view">
        <field name="name">sale settings</field>
        <field name="model">sale.config.settings</field>
        <field name="arch" type="xml">
            <form string="Configure CRM" class="oe_form_configuration" name="sale_config_form">
                <header>
                    <button string="Apply" type="object" name="execute" class="oe_highlight"/>
                    <button string="Cancel" type="object" name="cancel" class="oe_link"/>
                </header>
                <div id="main"/>
            </form>
        </field>
    </record>

    <!--O grupo de CRM foi movido para menu de CRM. O id-->
    <!--da view foi sobrescrito para que fosse possivel substituir-->
    <!--a view do qual ele herda-->
    <record id="crm.view_sale_config_settings" model="ir.ui.view">
        <field name="name">crm settings</field>
        <field name="model">sale.config.settings</field>
        <field name="inherit_id" ref="view_crm_config_settings"/>
        <field name="arch" type="xml">
            <div id="main" position="inside">
                <group string="CRM" name="config_alias">
                    <label for="id" string="Leads Email Alias"/>
                    <div>
                        <div attrs="{'invisible': [('alias_domain', 'in', ['localhost', '', False])]}">
                            <p class="text-muted">
                                Each sales team has an email alias that
                                could be setup on the sales team form. You
                                can setup a generic email alias to create
                                incoming leads.
                            </p>
                            <field name="alias_prefix" class="oe_inline"/>
                            <span>@</span>
                            <field name="alias_domain" class="oe_inline" readonly="1"/>
                        </div>
                        <div attrs="{'invisible': [('alias_domain', 'not in', ['localhost', '', False])]}">
                            <button type="action"
                                    name="base_setup.action_general_configuration"
                                    string="Setup your domain alias" class="oe_link"/>
                        </div>
                    </div>
                    <field name="group_use_lead" widget="radio"/>
                    <label for="module_crm_voip" string="Voip integration"/>
                    <div>
                        <field name="module_crm_voip" widget="upgrade_boolean" class="oe_inline"/>
                        <label for="module_crm_voip" invisible="1"/>
                        <a href="https://www.odoo.com/slides/slide/voip-one-click-button-to-automate-calls-272" target="_blank">
                            More Info
                        </a>
                    </div>
                </group>
                <group string="Odoo Sign" name="config_sign">
                    <label for="module_website_sign" string="Odoo Sign"/>
                    <div>
                        <field name="module_website_sign" widget="upgrade_boolean" class="oe_inline"/>
                        <label for="module_website_sign" invisible="1"/>
                        <a href="https://www.odoo.com/page/sign" target="_blank">More Info</a>
                    </div>
                </group>
            </div>
        </field>
    </record>

    <record id="action_crm_config" model="ir.actions.act_window">
        <field name="name">Configure Sales</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">sale.config.settings</field>
        <field name="view_id" ref="view_crm_config_settings"/>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
    </record>

</odoo>